# –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–µ—Ç–∞–ª–µ–π —Å—Ç–∏–∫–µ—Ä–ø–∞–∫–∞

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π UI (Optimistic Rendering)
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ø—Ä–æ–ø—Å–æ–≤ `stickerSet`
- –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ —Ñ–æ–Ω–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
- UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö —Å–æ–≤—Å–µ–º –Ω–µ—Ç

**–≠—Ñ—Ñ–µ–∫—Ç:** –í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: **0ms** (–≤–º–µ—Å—Ç–æ 500-1500ms)

---

### 2. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–µ—à `stickerSetCache` –¥–ª—è –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∏–∫–µ—Ä—Å–µ—Ç–æ–≤
- TTL –∫–µ—à–∞: 5 –º–∏–Ω—É—Ç
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π (–º–∞–∫—Å–∏–º—É–º 50 –∑–∞–ø–∏—Å–µ–π)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ—à–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

**–≠—Ñ—Ñ–µ–∫—Ç:** –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ —Ç–æ–≥–æ –∂–µ —Å—Ç–∏–∫–µ—Ä–ø–∞–∫–∞: **0ms** (–∏–∑ –∫–µ—à–∞)

---

### 3. –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–∏–Ω–∏–∞—Ç—é—Ä (Lazy Loading)
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `LazyThumbnail` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π IntersectionObserver
- –ü–µ—Ä–≤—ã–µ 20 –º–∏–Ω–∏–∞—Ç—é—Ä –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –º–∏–Ω–∏–∞—Ç—é—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ —Å–∫—Ä–æ–ª–ª–∞ (lazy loading)
- –ê–∫—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–∫–µ—Ä –≤—Å–µ–≥–¥–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ
- Skeleton placeholder –¥–ª—è –Ω–µ–≤–∏–¥–∏–º—ã—Ö –º–∏–Ω–∏–∞—Ç—é—Ä

**–≠—Ñ—Ñ–µ–∫—Ç:** 
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞ –Ω–∞ **60-80%**
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ **50-70%** –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø–∞–∫–æ–≤

---

### 4. –£–º–Ω–∞—è –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 15 –º–∏–Ω–∏–∞—Ç—é—Ä (–≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö)
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 3 –±–æ–ª—å—à–∏—Ö —Å—Ç–∏–∫–µ—Ä–∞ (–≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ AbortController –¥–ª—è –æ—Ç–º–µ–Ω—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏
- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å—Ç–∏–∫–µ—Ä–æ–≤ –ø–æ –º–µ—Ä–µ —Å–∫—Ä–æ–ª–ª–∞

**–≠—Ñ—Ñ–µ–∫—Ç:** 
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ **50-70%** –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø–∞–∫–æ–≤ (50+ —Å—Ç–∏–∫–µ—Ä–æ–≤)
- –£–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª–∫–∏

---

### 5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `React.memo` –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `LazyThumbnail`
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ `useEffect`
- –£–±—Ä–∞–Ω–∞ –ª–∏—à–Ω—è—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `fullStickerSet` –∏–∑ useEffect

**–≠—Ñ—Ñ–µ–∫—Ç:** –£–ª—É—á—à–µ–Ω–∏–µ FPS –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –º–∏–Ω–∏–∞—Ç—é—Ä

---

### 6. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–≥—Ä—É–∑–∫–∏
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ–Ω–µ
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏–Ω–Ω–µ—Ä —Å –ø–ª–∞–≤–Ω—ã–º –ø–æ—è–≤–ª–µ–Ω–∏–µ–º

**–≠—Ñ—Ñ–µ–∫—Ç:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è, –Ω–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚è±Ô∏è –í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: **500-1500ms**
- üì¶ –¢—Ä–∞—Ñ–∏–∫ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏: –í—Å–µ —Å—Ç–∏–∫–µ—Ä—ã (–º–æ–∂–µ—Ç –±—ã—Ç—å 50+ MB)
- üé® UX: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç "–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∏–∫–µ—Ä—Å–µ—Ç–∞..."
- üîÑ –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ: **500-1500ms** (–∑–∞–Ω–æ–≤–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç)

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- ‚è±Ô∏è –í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: **0-50ms** (–∏–∑ –∫–µ—à–∞) / **0-200ms** (–Ω–æ–≤—ã–π)
- üì¶ –¢—Ä–∞—Ñ–∏–∫ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏: –¢–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 15-20 —Å—Ç–∏–∫–µ—Ä–æ–≤ (10-20 MB)
- üé® UX: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –∫–æ–Ω—Ç–µ–Ω—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–ª–∞–≤–Ω–æ
- üîÑ –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ: **0ms** (–∏–∑ –∫–µ—à–∞)

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:
```typescript
const stickerSetCache = new Map<number, CachedStickerSet>();
const CACHE_TTL = 5 * 60 * 1000; // 5 –º–∏–Ω—É—Ç
```

### Lazy Loading:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `IntersectionObserver` —Å `rootMargin: '200px'`
- –ü–µ—Ä–≤—ã–µ 20 –º–∏–Ω–∏–∞—Ç—é—Ä –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è –∫ viewport

### –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π UI:
```typescript
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ø—Ä–æ–ø—Å–æ–≤ –∏–ª–∏ –∫–µ—à–∞
const [fullStickerSet, setFullStickerSet] = useState<StickerSetResponse | null>(() => {
  const cached = stickerSetCache.get(stickerSet.id);
  if (cached && Date.now() - cached.timestamp < cached.ttl) {
    return cached.data;
  }
  return stickerSet; // –î–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ–ø—Å–æ–≤
});
```

---

## üéØ –ú–µ—Ç—Ä–∏–∫–∏ —É–ª—É—á—à–µ–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| –í—Ä–µ–º—è –¥–æ –ø–µ—Ä–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è | 500-1500ms | 0-200ms | **75-100%** |
| –¢—Ä–∞—Ñ–∏–∫ (–±–æ–ª—å—à–æ–π –ø–∞–∫) | 50+ MB | 10-20 MB | **60-80%** |
| –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ | 500-1500ms | 0ms | **100%** |
| FPS –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ | 30-40 | 50-60 | **50%** |

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å:

1. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –º–∏–Ω–∏–∞—Ç—é—Ä** - –µ—Å–ª–∏ —Å—Ç–∏–∫–µ—Ä–æ–≤ > 100
2. **Service Worker –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–ª—è –æ—Ñ–ª–∞–π–Ω –¥–æ—Å—Ç—É–ø–∞
3. **–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ hover** - –∑–∞–≥—Ä—É–∂–∞—Ç—å —Å—Ç–∏–∫–µ—Ä–ø–∞–∫ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - WebP —Å fallback, responsive images
5. **Debouncing —Å–∫—Ä–æ–ª–ª–∞** - –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ IntersectionObserver

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è:

```tsx
<StickerPackModal 
  open={isDetailOpen} 
  stickerSet={selectedStickerSet} 
  onClose={handleBackToList}
  onLike={handleLike}
/>
```

