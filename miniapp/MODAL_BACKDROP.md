# Адаптивное затемнение модальных окон

## Обзор

Реализована система адаптивного затемнения/осветления фона при открытии модального окна деталей стикера. Система автоматически адаптируется под тему Telegram (светлая/темная) и обеспечивает плавные анимации.

## Компоненты

### ModalBackdrop
Основной компонент для создания адаптивного затемнения:
- Автоматическое определение темы Telegram
- Плавные анимации появления/исчезновения
- Блокировка скролла body
- Оптимизация производительности с GPU-ускорением
- Поддержка устройств без backdrop-filter

### StickerPackModal
Обновленный компонент модального окна:
- Интеграция с ModalBackdrop
- Отключение стандартного backdrop Material-UI
- Прозрачный фон для кастомного затемнения

### useModalState
Хук для управления состоянием модальных окон:
- Управление анимациями
- Блокировка скролла
- Коллбэки для открытия/закрытия

## Особенности

### Адаптивность темы
- **Светлая тема**: темное затемнение `rgba(0, 0, 0, 0.65)`
- **Темная тема**: светлое затемнение `rgba(255, 255, 255, 0.12)`

### Анимации
- **Появление**: 300ms с easing `cubic-bezier(0.4, 0, 0.2, 1)`
- **Исчезновение**: 200ms с тем же easing
- **Blur эффект**: от 0px до 10px (8px на мобильных)

### Производительность
- GPU-ускорение с `transform: translateZ(0)`
- `will-change` для оптимизации анимаций
- Fallback для устройств без backdrop-filter

### Адаптивность
- Уменьшенный blur на экранах < 480px
- Поддержка разных размеров экрана
- Graceful degradation для старых браузеров

## Использование

```tsx
import { StickerPackModal } from '@/components/StickerPackModal';

<StickerPackModal 
  open={isModalOpen} 
  stickerSet={selectedStickerSet} 
  onClose={handleCloseModal}
  onLike={handleLike}
/>
```

## CSS переменные

Используются гармоничные CSS переменные:
- `--tg-spacing-*` для отступов
- `--tg-radius-*` для радиусов скругления
- `--tg-font-size-*` для размеров шрифтов
